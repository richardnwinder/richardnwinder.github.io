<!doctype html>

<html class="no-js" lang="en-gb">

<head>
  <title>Winder Resource</title>
  <meta charset="utf-8">
  <meta name="description" content="Winder Resource - Golang blogs">
  <meta name="theme-color" content="#fafafa">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="apple-touch-icon" href="../../index/icon.png">
 
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open Sans">
  
  <link rel="stylesheet" href="../../index/css/bulma.min.css">
  <link rel="stylesheet" href="../../index/css/flags.css">
  <link rel="stylesheet" href="./css/local.css">

</head>

<body style="height: 100vh;" onload="openSettings()" onunload="saveSettings()">
  <!--[if IE]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <section class=hero>
    <div class=hero-head>
      <nav class="navbar" style="padding-left:10px;padding-right:10px;">
        <div class="navbar-brand">
          <a class="navbar-item" href="../index.html">
            <img class="logo" src="../img/branding/winderresource-logo.png" alt="Winder Resource Logo">
            <!-- <h1 style="margin:0px;padding:0px;" class="logo grey">Devel2Go</h1>
            <h3 class="link-item">devel2go.com</h3> -->
          </a>
          
          <span class="navbar-burger burger" data-target="navbarMenuHeroA">
            <span></span>
            <span></span>
            <span></span>
          </span>
        </div>
        
        <div id="navbarMenuHeroA" class="navbar-menu">
            <div class="navbar-end">
                <div class="navbar-item  is-hoverable" id="language">
                </div>
                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link is-uppercase is-size-7 has-text-weight-semibold">
                        Project
                    </a>
                    <div class="navbar-dropdown">
                        <a href="../project/go-encrypt/go-encrypt.html" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                            Go-Encrypt
                        </a>
                        <a href="../project/js-quick/js-quick.html" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                            JS-Quick
                        </a>
                    </div>
                </div>
                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link is-uppercase is-size-7 has-text-weight-semibold">
                        Help
                    </a>
                    <div class="navbar-dropdown">
                        <a href="#" onclick="openHelp('../help/git.html');return false;" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                            Git Commands
                        </a>
                    </div>
                </div>
                <div class="navbar-item has-dropdown is-hoverable">
                  <a class="navbar-link is-uppercase is-size-7 has-text-weight-semibold">
                    Snippet
                  </a>
                  <div class="navbar-dropdown">
                      <a href="../snippet/golang/snippet-golang.html" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                        Golang
                      </a>
                      <a href="../snippet/css/snippet-css.html" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                        Css
                      </a>
                      <a href="../snippet/js/snippet-javascript.html" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                        Javascript
                      </a>
                      <a href="../snippet/webpage/snippet-webpage.html" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                        Webpage
                      </a>
                    </div>
                </div>
                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link is-uppercase is-size-7 has-text-weight-semibold">
                      Blog
                    </a>
                    <div class="navbar-dropdown">
                        <a href="./golang.html" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                            Golang
                        </a>
                        <a href="./javascript.html" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                            JavaScript
                        </a>
                        <a href="./nodejs.html" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                            NodeJS
                        </a>
                        <a href="./webpage.html" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                            WebPage
                        </a>
                    </div>
                </div>
            
                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link is-uppercase is-size-7 has-text-weight-semibold">
                        About Us
                    </a>
                    <div class="navbar-dropdown">
                        <a href="../about/about.html" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                            About
                        </a>
                        <a href="../contact/contact.html" class="navbar-item  is-uppercase is-size-7 has-text-weight-semibold">
                          Contact
                        </a>
                        <a href="../history/history.html" class="navbar-item is-uppercase is-size-7 has-text-weight-semibold">
                            History
                        </a>
                    </div>
                </div>
              </div>
          </div>
      </nav>
    </div>
    <div class=hero-body>
      <div class=container>
        <h1 class="title is-3 is-spaced">
          <p>Javascript Blogs</p>
        </h1>
        <p class="subtitle is-6">Javascript is now a widely used language for webpage development. Over the years it has developed into a very complete resource and has a huge user base, with an unrivalled supporting infrastructure.</p>
      </div>
    </div>
  </section>
  <!-- <div class="columns is-fullheight">
	<div class="column is-2 is-sidebar-menu is-hidden-mobile" style="border-right:1px solid #888;overflow:hidden;">
		<aside class="menu">
			<img class="image" src="../img/branding/faceid.jpg" alt="Face Image">
			<a href="../contact/">  Richard Winder</a>
			<hr>
			<p class="menu-label">General</p>
			<ul class="menu-list">
				<li><a>Dashboard longer</a></li>
				<li><a>Customers</a></li>
			</ul>
		</aside>
	</div>
	<div class="column is-main-content"> -->
		<!-- Main Content -->
  
  <section class="section" style="margin-top:-20px;">
		<div class="container"> 
			<div class="columns">
				<div class="column is-one-quarter">
					<div class="image is-2by1">
						<a href="/javascript/getting-started-with-datavault.html"><img src="./javascript/img/getting-started-with-datavault.jpg" alt="getting-started-with-datavault"></a>
					</div>
				</div>
				<div class="column is-three-quarters">
					<h2 class="title is-3">
						<a href="./javascript/getting-started-with-datavault.html">Getting Started with DataVault.</a>
					</h2>
					<div class="subtitle is-6"> 
						<a href="/categories/golang">
							<span class="tag golang">Go-Encrypt</span>
						</a>
						  
						<a href="./golang/plumbing-the-syscall-library-for-microsoft-windows-os.html">
							<span class="icon">
								<i class="fa fa-calendar-alt" aria-hidden="true"></i>
							</span>
							May 26, 2020
						</a>
					</div>
					<p>The DataVault webapp was designed to show how to set up communications with the ENK encryption device. The web browser runs Javascript code in a single thread, but provides asynchronous callbacks to free up the rest of the code and enables it to continue running. When accessing the ENK api it is often necessary to await the response before allowing the code to continue execution. For example - before trying to activate the ENK it is necessary to run checkActive() (to see if the ENK is installed and already activated). The activate routine must not be allowed to initiate until we know the state of the ENK.</p>
          <br>
          <p class="is-6 subtitle">
            Here is the javascript source code to test if USB EnigmaKey is activated.
          </p> 
            <div style="font-size:14px;color:red;white-space:pre-wrap;">
        
              ------------------------------------------------------------

              async function activeENK()
              {
                  let ret = false;
                  try {
                      request = enk_server + "/isActive";
                      let response = await fetch(request, { mode: 'cors' });
                      if (response.status == 200) {
                          // Examine the text in the response
                          let text = await response.text();
                          let data = text ? JSON.parse(text) : {};
                          if(data.active == 1) {
                              ret = true;
                          } else {
                              ret = false;
                          }
                      }
                  }
                  return ret;
              }

              ------------------------------------------------------------

            </div>
          
          <p>
          Originally all the following code had to be nested in the callback, leading very quickly to what became known as callback hell! But then promises where introduced, which allowed the code to be written in a cleaner more readable way. With promises instead of placing all the following code into the callback block, they can be placed in seperarte blocks with the use of the .then() notation.</p>
          <br>
          <p>Finally async/await has arrived. It enables asynchronous code to look like synchronous code. It is important to understand that you are trying to write asynchronous code, to avoid blocking the single thread. But when accessing the ENK, it is itself synchronous and must be treated as such. This makes for an interesting mix of asynchronous / sychronous code.</p>
          <br>
          <p>There is another development taking place at the moment which will further improve the whole webapp space, based on async / await, which will be released in the near future. But for now we stick with the already available async / await routines.</p>
          <br>
          <p>You can find out more about how the JavaScript engine executes code in these articles -</p>
          <li><a href="https://blog.bitsrc.io/understanding-asynchronous-javascript-the-event-loop-74cd408419ff">Understanding Asynchronous JavaScript</a></li>
          <li><a href="https://medium.com/better-programming/is-javascript-synchronous-or-asynchronous-what-the-hell-is-a-promise-7aa9dd8f3bfb">Is JavaScript Synchronous or Asynchronous? What the Hell is a Promise?</a>
          </li>

					<div>
						<a href="./golang/plumbing-the-syscall-library-for-microsoft-windows-os.html">Continue Reading</a>
					</div>
				</div>
			</div>

		</div>
	</section>
  
  <script src="../../index/js/vendor/modernizr-3.8.0.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <!-- <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.4.1.min.js"><\/script>')</script> -->
  <script src="../js/plugins.js"></script>
  <script src="../js/main.js"></script>
  <script src="../js/user.js"></script>
  <script src="../js/cookie.js"></script>
  <script src="../js/country.js"></script>
  <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID.
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-XXXXX-Y', 'auto'); ga('set','transport','beacon'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async></script> -->
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-162691459-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-162691459-1');
  </script>
  
</body>

</html>
